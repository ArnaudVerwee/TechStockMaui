<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TechStockMaui.Views.LoginPage"
             Title="Login"
             BackgroundColor="#f8f9fa">

    <ScrollView>
        <VerticalStackLayout Padding="40" Spacing="20" VerticalOptions="Center">

            <!-- Logo et titre -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center" Margin="0,0,0,40">
                <Label Text="📦" FontSize="64" HorizontalOptions="Center" />
                <Label x:Name="AppTitleLabel"
                       Text="TechStock" 
                       FontSize="32" 
                       FontAttributes="Bold"
                       TextColor="#2c3e50"
                       HorizontalOptions="Center" />
                <Label x:Name="SubtitleLabel"
                       Text="Connect to your account" 
                       FontSize="16" 
                       TextColor="#7f8c8d"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>

            <!-- Formulaire de connexion -->
            <Frame BackgroundColor="White" 
                   HasShadow="True" 
                   CornerRadius="12"
                   Padding="30">
                <VerticalStackLayout Spacing="20">

                    <!-- Email -->
                    <VerticalStackLayout Spacing="5">
                        <Label x:Name="EmailLabel"
                               Text="Email" 
                               FontAttributes="Bold" 
                               TextColor="#2c3e50" />
                        <Entry x:Name="EmailEntry" 
                               Placeholder="your.email@example.com"
                               Keyboard="Email"
                               BackgroundColor="#f8f9fa"
                               TextColor="#2c3e50" />
                    </VerticalStackLayout>

                    <!-- Mot de passe -->
                    <VerticalStackLayout Spacing="5">
                        <Label x:Name="PasswordLabel"
                               Text="Password" 
                               FontAttributes="Bold" 
                               TextColor="#2c3e50" />
                        <Entry x:Name="PasswordEntry" 
                               Placeholder="Your password"
                               IsPassword="True"
                               BackgroundColor="#f8f9fa"
                               TextColor="#2c3e50" />
                    </VerticalStackLayout>

                    <!-- Se souvenir de moi -->
                    <HorizontalStackLayout Spacing="10">
                        <CheckBox x:Name="RememberMeCheckBox" />
                        <Label x:Name="RememberMeLabel"
                               Text="Remember me" 
                               TextColor="#7f8c8d"
                               VerticalOptions="Center" />
                    </HorizontalStackLayout>

                    <!-- Bouton de connexion -->
                    <Button x:Name="LoginButton"
                            Text="Login"
                            Clicked="OnLoginClicked"
                            BackgroundColor="#3498db"
                            TextColor="White"
                            FontSize="16"
                            Padding="0,15"
                            CornerRadius="8"
                            Margin="0,10,0,0" />

                    <!-- Indicateur de chargement -->
                    <ActivityIndicator x:Name="LoadingIndicator"
                                     IsVisible="False"
                                     IsRunning="False"
                                     Color="#3498db" />
                </VerticalStackLayout>
            </Frame>

            <!-- Liens supplémentaires -->
            <VerticalStackLayout Spacing="10" Margin="0,20,0,0">
                <Label x:Name="ForgotPasswordLabel"
                       Text="Forgot password?" 
                       FontSize="14"
                       TextColor="#3498db"
                       HorizontalOptions="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnForgotPasswordTapped" />
                    </Label.GestureRecognizers>
                </Label>

                <HorizontalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Label x:Name="NoAccountLabel"
                           Text="No account?" 
                           FontSize="14" 
                           TextColor="#7f8c8d" />
                    <Label x:Name="RegisterLabel"
                           Text="Sign up" 
                           FontSize="14"
                           TextColor="#3498db"
                           FontAttributes="Bold">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnRegisterTapped" />
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <!-- Sélecteur de langue -->
            <Frame BackgroundColor="White" 
                   HasShadow="True" 
                   CornerRadius="8"
                   Padding="15"
                   Margin="0,20,0,0">
                <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                    <Label Text="🌍" FontSize="20" VerticalOptions="Center" />
                    <Label x:Name="LanguageLabel"
                           Text="Language" 
                           FontSize="14"
                           TextColor="#2c3e50"
                           VerticalOptions="Center" />
                    <Label x:Name="LanguageFlag" 
                           Text="EN" 
                           FontSize="14"
                           FontAttributes="Bold"
                           TextColor="#2c3e50"
                           BackgroundColor="#F5F5F5"
                           Padding="8,4"
                           VerticalOptions="Center"
                           HorizontalOptions="Center">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnLanguageClicked"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>