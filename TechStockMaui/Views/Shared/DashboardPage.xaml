<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="TechStockMaui.Views.Shared.DashboardPage"
    BackgroundColor="#f8f9fa"
    Title="Dashboard">

    <Grid RowDefinitions="Auto,*">
        <!-- Barre du haut avec ombre -->
        <Frame Grid.Row="0" 
               BackgroundColor="White" 
               HasShadow="True"
               CornerRadius="0"
               Padding="0"
               Margin="0">

            <HorizontalStackLayout 
                Padding="20,15"
                VerticalOptions="Center"
                HorizontalOptions="FillAndExpand"
                Spacing="{OnPlatform Android=10, WinUI=30, Default=20}">

                <!-- Logo / Titre avec icÃ´ne -->
                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                    <Label Text="ðŸ“¦" FontSize="28" VerticalOptions="Center" />
                    <Label x:Name="AppTitleLabel"
                           Text="TechStock"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="#2c3e50"
                           VerticalOptions="Center" />
                </HorizontalStackLayout>

                <!-- Espace qui pousse les icÃ´nes Ã  droite -->
                <BoxView WidthRequest="0" HorizontalOptions="FillAndExpand" />

                <!-- âœ… SÃ©lecteur de langue simple (FR/EN/NL) -->
                <Label x:Name="LanguageFlag" 
                       Text="FR" 
                       FontSize="14"
                       FontAttributes="Bold"
                       TextColor="#2c3e50"
                       BackgroundColor="#F5F5F5"
                       Padding="8,4"
                       Margin="0,0,15,0"
                       VerticalOptions="Center"
                       HorizontalOptions="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLanguageClicked"/>
                    </Label.GestureRecognizers>
                </Label>

                <!-- IcÃ´nes de navigation -->
                <ScrollView Orientation="Horizontal"
                            HorizontalOptions="End"
                            VerticalOptions="Center">
                    <HorizontalStackLayout Spacing="15"
                                           Padding="0"
                                           VerticalOptions="Center">

                        <!-- Home -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="home.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28" />
                        </Frame>

                        <!-- Warehouse (Produits) -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="warehouse.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28"
                                         Clicked="OnWarehouseClicked" />
                        </Frame>

                        <!-- Laptop -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="laptop_windows.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28"
                                         Clicked="OnLaptopClicked" />
                        </Frame>

                        <!-- Truck (Suppliers) -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="truck.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28"
                                         Clicked="OnTruckClicked" />
                        </Frame>

                        <!-- Assigned Products -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="my_assigned_products.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28"
                                         Clicked="OnAssignedProductsClicked" />
                        </Frame>

                        <!-- Users -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="users.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28"
                                         Clicked="OnUsersClicked" />
                        </Frame>

                        <!-- Logout -->
                        <Frame BackgroundColor="Transparent" 
                               Padding="8" 
                               HasShadow="False"
                               CornerRadius="8">
                            <ImageButton Source="logout.png" 
                                         BackgroundColor="Transparent" 
                                         HeightRequest="28" 
                                         WidthRequest="28"
                                         Clicked="OnLogoutClicked" />
                        </Frame>
                    </HorizontalStackLayout>
                </ScrollView>
            </HorizontalStackLayout>
        </Frame>

        <!-- Contenu principal avec dashboard cards -->
        <ScrollView Grid.Row="1" Padding="20,10">
            <VerticalStackLayout Spacing="20">

                <!-- Message de bienvenue -->
                <Frame BackgroundColor="White" 
                       HasShadow="True" 
                       CornerRadius="12"
                       Padding="20">
                    <VerticalStackLayout Spacing="10">
                        <Label x:Name="WelcomeLabel"
                               Text="Bienvenue sur TechStock" 
                               FontSize="22" 
                               FontAttributes="Bold"
                               TextColor="#2c3e50"
                               HorizontalOptions="Center" />
                        <Label x:Name="WelcomeSubLabel"
                               Text="GÃ©rez votre inventaire technologique facilement" 
                               FontSize="14" 
                               TextColor="#7f8c8d"
                               HorizontalOptions="Center" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Cartes d'accÃ¨s rapide -->
                <Label x:Name="QuickAccessLabel"
                       Text="AccÃ¨s rapide" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="#2c3e50"
                       Margin="0,10,0,5" />

                <Grid RowDefinitions="Auto,Auto" 
                      ColumnDefinitions="*,*" 
                      RowSpacing="15" 
                      ColumnSpacing="15">

                    <!-- Card Produits -->
                    <Frame Grid.Row="0" Grid.Column="0"
                           BackgroundColor="White"
                           HasShadow="True"
                           CornerRadius="12"
                           Padding="20">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnWarehouseClicked" />
                        </Frame.GestureRecognizers>
                        <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                            <Image Source="warehouse.png" 
                                   WidthRequest="40" 
                                   HeightRequest="40" />
                            <Label x:Name="ProductsCardLabel"
                                   Text="Produits" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="#3498db"
                                   HorizontalOptions="Center" />
                            <Label x:Name="ProductsCardSubLabel"
                                   Text="GÃ©rer l'inventaire" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Frame>

                    <!-- Card Fournisseurs -->
                    <Frame Grid.Row="0" Grid.Column="1"
                           BackgroundColor="White"
                           HasShadow="True"
                           CornerRadius="12"
                           Padding="20">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnTruckClicked" />
                        </Frame.GestureRecognizers>
                        <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                            <Image Source="truck.png" 
                                   WidthRequest="40" 
                                   HeightRequest="40" />
                            <Label x:Name="SuppliersCardLabel"
                                   Text="Fournisseurs" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="#e74c3c"
                                   HorizontalOptions="Center" />
                            <Label x:Name="SuppliersCardSubLabel"
                                   Text="GÃ©rer les contacts" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Frame>

                    <!-- Card Utilisateurs -->
                    <Frame Grid.Row="1" Grid.Column="0"
                           BackgroundColor="White"
                           HasShadow="True"
                           CornerRadius="12"
                           Padding="20">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnUsersClicked" />
                        </Frame.GestureRecognizers>
                        <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                            <Image Source="users.png" 
                                   WidthRequest="40" 
                                   HeightRequest="40" />
                            <Label x:Name="UsersCardLabel"
                                   Text="Utilisateurs" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="#2ecc71"
                                   HorizontalOptions="Center" />
                            <Label x:Name="UsersCardSubLabel"
                                   Text="GÃ©rer les accÃ¨s" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Frame>

                    <!-- Card Mes Produits -->
                    <Frame Grid.Row="1" Grid.Column="1"
                           BackgroundColor="White"
                           HasShadow="True"
                           CornerRadius="12"
                           Padding="20">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnAssignedProductsClicked" />
                        </Frame.GestureRecognizers>
                        <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                            <Image Source="my_assigned_products.png" 
                                   WidthRequest="40" 
                                   HeightRequest="40" />
                            <Label x:Name="MyProductsCardLabel"
                                   Text="Mes Produits" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="#f39c12"
                                   HorizontalOptions="Center" />
                            <Label x:Name="MyProductsCardSubLabel"
                                   Text="Produits assignÃ©s" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Frame>
                </Grid>

                <!-- Statistiques rapides -->
                <Label x:Name="OverviewLabel"
                       Text="AperÃ§u" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="#2c3e50"
                       Margin="0,20,0,5" />

                <Frame BackgroundColor="White" 
                       HasShadow="True" 
                       CornerRadius="12"
                       Padding="20">
                    <Grid RowDefinitions="Auto" 
                          ColumnDefinitions="*,*,*" 
                          ColumnSpacing="20">

                        <VerticalStackLayout Grid.Column="0" HorizontalOptions="Center">
                            <Label Text="ðŸ”¢" FontSize="24" HorizontalOptions="Center" />
                            <Label x:Name="TotalLabel"
                                   Text="Total" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                            <Label x:Name="TotalProductsLabel"
                                   Text="0" 
                                   FontSize="20" 
                                   FontAttributes="Bold"
                                   TextColor="#3498db"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Grid.Column="1" HorizontalOptions="Center">
                            <Label Text="âœ…" FontSize="24" HorizontalOptions="Center" />
                            <Label x:Name="AssignedLabel"
                                   Text="AssignÃ©s" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                            <Label x:Name="AssignedProductsLabel"
                                   Text="0" 
                                   FontSize="20" 
                                   FontAttributes="Bold"
                                   TextColor="#2ecc71"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Grid.Column="2" HorizontalOptions="Center">
                            <Label Text="ðŸ“‹" FontSize="24" HorizontalOptions="Center" />
                            <Label x:Name="AvailableLabel"
                                   Text="Libres" 
                                   FontSize="12" 
                                   TextColor="#7f8c8d"
                                   HorizontalOptions="Center" />
                            <Label x:Name="FreeProductsLabel"
                                   Text="0" 
                                   FontSize="20" 
                                   FontAttributes="Bold"
                                   TextColor="#e74c3c"
                                   HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Grid>
                </Frame>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>